!function(){"use strict";var e="";const t={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},o=(e,t,o)=>{const r=e.querySelector(`#${t.id}-error`);r.textContent="",r.classList.remove(o.errorClass),t.classList.remove(o.inputErrorClass)},r=(e,t,o)=>{(e=>e.some((e=>!e.validity.valid)))(e)?n(t,o):(t.disabled=!1,t.classList.remove(o.inactiveButtonClass))},n=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},c=e=>{document.querySelectorAll(e.formSelector).forEach((t=>{((e,t)=>{const n=Array.from(e.querySelectorAll(t.inputSelector)),c=e.querySelector(t.submitButtonSelector);r(n,c,t),n.forEach((a=>{a.addEventListener("input",(function(){((e,t,r)=>{t.validity.valid?o(e,t,r):((e,t,o,r)=>{const n=e.querySelector(`#${t.id}-error`);n.textContent=o,n.classList.add(r.errorClass),t.classList.add(r.inputErrorClass)})(e,t,t.validationMessage,r)})(e,a,t),r(n,c,t)}))}))})(t,e)}))};c(t);var a=e+"8bd92903aece9fed9ac5.svg",l=e+"2fc47fd8e9a9bcd9612f.jpg",s=e+"3f562ce83766a824571e.svg",i=e+"975792ea68af0a3c209d.svg";const d=[{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Restaurant terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"}];console.log(d),document.querySelector(".header__logo").src=a,document.querySelector(".profile__avatar").src=l,document.querySelector(".profile__edit-btn").src=s,document.querySelector(".profile__add-btn").src=i;const u=document.querySelector(".profile__edit-btn"),m=document.querySelector(".profile__add-btn"),p=document.querySelector(".profile__name"),_=document.querySelector(".profile__description"),y=(document.querySelector(".card__image"),document.querySelector(".card__title"),document.querySelector("#edit-modal")),f=y.querySelector(".modal__form"),v=y.querySelector(".modal__close"),S=y.querySelector("#profile-name-input"),q=y.querySelector("#profile-description-input"),g=document.querySelector("#card-modal"),b=g.querySelector(".modal__form"),h=g.querySelector(".modal__submit-btn"),k=g.querySelector(".modal__close"),w=g.querySelector("#card-link-input"),E=g.querySelector("#card-name-input"),L=document.querySelector("#preview-modal"),C=L.querySelector(".modal__image"),x=L.querySelector(".modal__caption"),z=L.querySelector(".modal__close_type_preview"),j=document.querySelector("#card-template"),A=document.querySelector(".cards__list");function B(e){const t=j.content.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__title"),r=t.querySelector(".card__image"),n=t.querySelector(".card__like-btn"),c=t.querySelector(".card__delete");return o.textContent=e.name,r.src=e.link,r.alt=e.name,n.addEventListener("click",(()=>{n.classList.toggle("card__like-btn_liked")})),r.addEventListener("click",(()=>{D(L),C.src=e.link,x.textContent=e.name,C.alt=e.name})),c.addEventListener("click",(()=>{t.remove()})),t}function D(e){e.classList.add("modal_opened"),document.addEventListener("keydown",T)}function M(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",T)}function T(e){if("Escape"===e.key){const e=document.querySelector(".modal.modal_opened");e&&M(e)}}[y,g,L].forEach((e=>{!function(e){e.addEventListener("mousedown",(t=>{t.target===e&&M(e)}))}(e)})),u.addEventListener("click",(()=>{S.value=p.textContent.trim(),q.value=_.textContent.trim(),((e,t)=>{const r=Array.from(e.querySelectorAll(t.inputSelector)),c=e.querySelector(t.submitButtonSelector);r.forEach((r=>{o(e,r,t)})),n(c,t)})(f,t),D(y)})),v.addEventListener("click",(()=>{M(y)})),m.addEventListener("click",(()=>{D(g)})),k.addEventListener("click",(()=>{M(g)})),z.addEventListener("click",(()=>{M(L)})),f.addEventListener("submit",(function(e){e.preventDefault(),p.textContent=S.value,_.textContent=q.value,M(y)})),b.addEventListener("submit",(function(e){e.preventDefault();const o=B({name:E.value,link:w.value});A.prepend(o),b.reset(),n(h,t),M(g)})),d.forEach((e=>{const t=B(e);A.prepend(t)})),c(t)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dkJTLEVBQXFCakMsaUJBQWlCLFNBQVMsS0FDN0NrRCxFQUFXcEIsRUFBYSxJQUkxQlYsRUFBZ0JwQixpQkFBaUIsVUF2RGpDLFNBQWlDMkQsR0FDL0JBLEVBQUlDLGlCQUNKM0MsRUFBWXZDLFlBQWM0QyxFQUFtQmtDLE1BQzdDdEMsRUFBbUJ4QyxZQUFjNkMsRUFBMEJpQyxNQUMzRE4sRUFBVy9CLEVBQ2IsSUFtREFNLEVBQVN6QixpQkFBaUIsVUFoRDFCLFNBQThCMkQsR0FDNUJBLEVBQUlDLGlCQUVKLE1BS010QixFQUFjRixFQUxBLENBQ2xCOUIsS0FBTXVCLEVBQXNCMkIsTUFDNUJqRCxLQUFNcUIsRUFBbUI0QixRQUkzQnJCLEVBQVMwQixRQUFRdkIsR0FFakJiLEVBQVNxQyxRQUVUekUsRUFBY3FDLEVBQWU5RCxHQUM3QnNGLEVBQVcxQixFQUNiLElBb0NBbkIsRUFBYVYsU0FBU29FLElBQ3BCLE1BQU16QixFQUFjRixFQUFlMkIsR0FDbkM1QixFQUFTMEIsUUFBUXZCLEVBQVksSUFHL0I5QyxFQUFpQjVCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcG90cy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zcG90cy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9zcG90cy8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdC1idG5cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXQtYnRuX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG5cclxuY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWwsIGVycm9yTXNnLCBjb25maWcpID0+IHtcclxuICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcclxuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XHJcbiAgZXJyb3JNc2dFbC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5lcnJvckNsYXNzKTtcclxuICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBoaWRlSW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgZXJyb3JNc2dFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgZXJyb3JNc2dFbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5lcnJvckNsYXNzKTtcclxuICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWwsIGNvbmZpZykgPT4ge1xyXG4gIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgc2hvd0lucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWwsIGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2UsIGNvbmZpZyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsLCBjb25maWcpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcclxuICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcclxuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGlzYWJsZUJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcclxuICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG59O1xyXG5cclxuLy9vcHRpb25hbFxyXG5leHBvcnQgY29uc3QgcmVzZXRWYWxpZGF0aW9uID0gKGZvcm1FbGVtZW50LCBjb25maWcpID0+IHtcclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcilcclxuICApO1xyXG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0LCBjb25maWcpO1xyXG4gIH0pO1xyXG4gIGRpc2FibGVCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxufTtcclxuXHJcbi8vLSB1c2UgdGhlIHNldHRpbmdzIG9iamVjdCBpbiBhbGwgZnVuY3Rpb25zIGluc3RlYWQgb2YgaGFyZC1jb2RlZHN0cmluZ3NcclxuXHJcbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbGVtZW50LCBjb25maWcpID0+IHtcclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcilcclxuICApO1xyXG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuXHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xyXG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKTtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcclxuIiwiLy9uZXcgYnJhbmNoIHRlc3RcclxuaW1wb3J0IHtcclxuICBlbmFibGVWYWxpZGF0aW9uLFxyXG4gIHJlc2V0VmFsaWRhdGlvbixcclxuICBkaXNhYmxlQnV0dG9uLFxyXG4gIHNldHRpbmdzLFxyXG59IGZyb20gXCIuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanNcIjtcclxuXHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG5pbXBvcnQgbG9nbyBmcm9tIFwiLi4vaW1hZ2VzL2xvZ28uc3ZnXCI7XHJcblxyXG5pbXBvcnQgYXZhdGFyIGZyb20gXCIuLi9pbWFnZXMvYXZhdGFyLmpwZ1wiO1xyXG5cclxuaW1wb3J0IGVkaXQgZnJvbSBcIi4uL2ltYWdlcy9lZGl0LnN2Z1wiO1xyXG5cclxuaW1wb3J0IHBsdXMgZnJvbSBcIi4uL2ltYWdlcy9wbHVzLnN2Z1wiO1xyXG5cclxuLy9jYXJkIGltYWdlcyBhbmQgY2FwdGlvbnMgdGhhdCBhcmUgcG9zdGVkIG9uIHRoZSBwYWdlXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbCBUaG9yZW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMS1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlJlc3RhdXJhbnQgdGVycmFjZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzItcGhvdG8tYnktY2VpbGluZS1mcm9tLXBleGVscy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQW4gb3V0ZG9vciBjYWZlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMy1waG90by1ieS10dWJhbnVyLWRvZ2FuLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJBIHZlcnkgbG9uZyBicmlkZ2UsIG92ZXIgdGhlIGZvcmVzdCBhbmQgdGhyb3VnaCB0aGUgdHJlZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy80LXBob3RvLWJ5LW1hdXJpY2UtbGFzY2hldC1mcm9tLXBleGVscy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVHVubmVsIHdpdGggbW9ybmluZyBsaWdodFwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzUtcGhvdG8tYnktdmFuLWFuaC1uZ3V5ZW4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vdW50YWluIGhvdXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNi1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmNvbnNvbGUubG9nKGluaXRpYWxDYXJkcyk7XHJcblxyXG5jb25zdCBsb2dvRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19sb2dvXCIpO1xyXG5sb2dvRWxlbWVudC5zcmMgPSBsb2dvO1xyXG5cclxuY29uc3QgYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5hdmF0YXJFbGVtZW50LnNyYyA9IGF2YXRhcjtcclxuXHJcbmNvbnN0IGVkaXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKTtcclxuZWRpdEVsZW1lbnQuc3JjID0gZWRpdDtcclxuXHJcbmNvbnN0IHBsdXNFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnRuXCIpO1xyXG5wbHVzRWxlbWVudC5zcmMgPSBwbHVzO1xyXG5cclxuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnRuXCIpO1xyXG5jb25zdCBjYXJkTW9kYWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idG5cIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xyXG5jb25zdCBjYXJkSW1hZ2VMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuY29uc3QgY2FyZENhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG5cclxuY29uc3QgZWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LW1vZGFsXCIpO1xyXG5jb25zdCBlZGl0Rm9ybUVsZW1lbnQgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuY29uc3QgZWRpdE1vZGFsQ2xvc2VCdG4gPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XHJcbmNvbnN0IGVkaXRNb2RhbE5hbWVJbnB1dCA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbmFtZS1pbnB1dFwiKTtcclxuY29uc3QgZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dCA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIlxyXG4pO1xyXG5cclxuY29uc3QgY2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLW1vZGFsXCIpO1xyXG5jb25zdCBjYXJkRm9ybSA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5jb25zdCBjYXJkU3VibWl0QnRuID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5cIik7XHJcbmNvbnN0IGNhcmRNb2RhbENsb3NlQnRuID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xyXG5jb25zdCBjYXJkTW9kYWxMaW5rSW5wdXQgPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIiNjYXJkLWxpbmstaW5wdXRcIik7XHJcbmNvbnN0IGNhcmRNb2RhbENhcHRpb25JbnB1dCA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtbmFtZS1pbnB1dFwiKTtcclxuXHJcbmNvbnN0IHByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJldmlldy1tb2RhbFwiKTtcclxuY29uc3QgcHJldmlld01vZGFsSW1hZ2VFbGVtZW50ID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG5jb25zdCBwcmV2aWV3TW9kYWxDYXB0aW9uRWxlbWVudCA9XHJcbiAgcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XHJcbmNvbnN0IHByZXZpZXdNb2RhbENsb3NlQnRuID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIubW9kYWxfX2Nsb3NlX3R5cGVfcHJldmlld1wiXHJcbik7XHJcblxyXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIik7XHJcbmNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcclxuXHJcbi8vY2FyZCBpbmZvcm1hdGlvblxyXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUuY29udGVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgY29uc3QgY2FyZE5hbWVFbGVtZW50ID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICBjb25zdCBjYXJkSW1hZ2VFbGVtZW50ID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICBjb25zdCBjYXJkTGlrZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idG5cIik7XHJcbiAgY29uc3QgY2FyZERlbGV0ZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlXCIpO1xyXG5cclxuICBjYXJkTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgY2FyZEltYWdlRWxlbWVudC5zcmMgPSBkYXRhLmxpbms7XHJcbiAgY2FyZEltYWdlRWxlbWVudC5hbHQgPSBkYXRhLm5hbWU7XHJcblxyXG4gIGNhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idG5fbGlrZWRcIik7XHJcbiAgfSk7XHJcblxyXG4gIGNhcmRJbWFnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIG9wZW5Nb2RhbChwcmV2aWV3TW9kYWwpO1xyXG4gICAgcHJldmlld01vZGFsSW1hZ2VFbGVtZW50LnNyYyA9IGRhdGEubGluaztcclxuICAgIHByZXZpZXdNb2RhbENhcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgcHJldmlld01vZGFsSW1hZ2VFbGVtZW50LmFsdCA9IGRhdGEubmFtZTtcclxuICB9KTtcclxuXHJcbiAgY2FyZERlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuLy9mdW5jdGlvbiB0byBvcGVuIHRoZSBtb2RhbFxyXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZUtleSk7XHJcbn1cclxuXHJcbi8vZnVuY3Rpb24gdG8gY2xvc2UgdGhlIG1vZGFsIG9uY2UgdGhlIFwieFwiIGlzIGNsaWNrZWRcclxuZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xyXG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgLy8gUmVtb3ZlIEVzY2FwZSBrZXkgbGlzdGVuZXIgd2hlbiBubyBtb2RhbHMgYXJlIG9wZW5cclxuXHJcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlS2V5KTtcclxufVxyXG5cclxuLy8gRnVuY3Rpb24gdG8gaGFuZGxlIEVzY2FwZSBrZXlcclxuZnVuY3Rpb24gaGFuZGxlRXNjYXBlS2V5KGV2ZW50KSB7XHJcbiAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgY29uc3Qgb3Blbk1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC5tb2RhbF9vcGVuZWRcIik7XHJcbiAgICBpZiAob3Blbk1vZGFsKSB7XHJcbiAgICAgIGNsb3NlTW9kYWwob3Blbk1vZGFsKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGNsb3NlIHRoZSBtb2RhbCB3aGVuIGNsaWNraW5nIG9uIHRoZSBvdmVybGF5XHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWxPbk92ZXJsYXlDbGljayhtb2RhbCkge1xyXG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBtb2RhbCkge1xyXG4gICAgICBjbG9zZU1vZGFsKG1vZGFsKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG4vLyBBZGQgb3ZlcmxheSBjbGljayBmdW5jdGlvbmFsaXR5IGZvciBlYWNoIG1vZGFsXHJcbltlZGl0TW9kYWwsIGNhcmRNb2RhbCwgcHJldmlld01vZGFsXS5mb3JFYWNoKChtb2RhbCkgPT4ge1xyXG4gIGNsb3NlTW9kYWxPbk92ZXJsYXlDbGljayhtb2RhbCk7XHJcbn0pO1xyXG5cclxuLy9TYXZlcyBhbnkgcHJvZmlsZSBjaGFuZ2VzIG9uY2UgdGhlIHVzZXIgZWRpdHMgdGhlIHByb2ZpbGVcclxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBlZGl0TW9kYWxOYW1lSW5wdXQudmFsdWU7XHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dC52YWx1ZTtcclxuICBjbG9zZU1vZGFsKGVkaXRNb2RhbCk7XHJcbn1cclxuXHJcbi8vU2F2ZSB0aGUgbmV3IHBvc3QgaW5mb3JtYXRpb24sIHVzZXIgY2FuIGFkZCBpbWFnZXMgYW5kIGFkZCBjYXB0aW9ucyBmb3IgdGhlIGltYWdlc1xyXG5mdW5jdGlvbiBoYW5kbGVQb3N0Rm9ybVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7XHJcbiAgICBuYW1lOiBjYXJkTW9kYWxDYXB0aW9uSW5wdXQudmFsdWUsXHJcbiAgICBsaW5rOiBjYXJkTW9kYWxMaW5rSW5wdXQudmFsdWUsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpbnB1dFZhbHVlcyk7XHJcbiAgY2FyZExpc3QucHJlcGVuZChjYXJkRWxlbWVudCk7XHJcblxyXG4gIGNhcmRGb3JtLnJlc2V0KCk7XHJcblxyXG4gIGRpc2FibGVCdXR0b24oY2FyZFN1Ym1pdEJ0biwgc2V0dGluZ3MpO1xyXG4gIGNsb3NlTW9kYWwoY2FyZE1vZGFsKTtcclxufVxyXG5cclxuLy9PbmNlIGVkaXQgcHJvZmlsZSBpcyBjbGlja2VkIHRoZSBtb2RhbCB3aWxsIG9wZW5cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBlZGl0TW9kYWxOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudC50cmltKCk7XHJcbiAgZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudC50cmltKCk7XHJcbiAgLy9vcHRpb25hbFxyXG4gIHJlc2V0VmFsaWRhdGlvbihlZGl0Rm9ybUVsZW1lbnQsIHNldHRpbmdzKTtcclxuICBvcGVuTW9kYWwoZWRpdE1vZGFsKTtcclxufSk7XHJcblxyXG4vL1RvIGNsb3NlIGVkaXQgcHJvZmlsZVxyXG5lZGl0TW9kYWxDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNsb3NlTW9kYWwoZWRpdE1vZGFsKTtcclxufSk7XHJcblxyXG4vL09uY2UgbmV3IHBvc3QgaXMgY2xpY2tlZCB0aGUgbW9kYWwgd2lsbCBiZSBvcGVuZWRcclxuY2FyZE1vZGFsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3Blbk1vZGFsKGNhcmRNb2RhbCk7XHJcbn0pO1xyXG5cclxuLy9UbyBjbG9zZSB0aGUgbmV3IHBvc3QgbW9kYWxcclxuY2FyZE1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjbG9zZU1vZGFsKGNhcmRNb2RhbCk7XHJcbn0pO1xyXG5cclxuLy9UbyBjbG9zZSB0aGUgcHJldmlldyBpbWFnZVxyXG5wcmV2aWV3TW9kYWxDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNsb3NlTW9kYWwocHJldmlld01vZGFsKTtcclxufSk7XHJcblxyXG4vL1RvIHNhdmUgZWRpdCBwcm9maWxlIGFuZCBuZXcgcG9zdCBpbmZvcm1hdGlvblxyXG5lZGl0Rm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XHJcbmNhcmRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlUG9zdEZvcm1TdWJtaXQpO1xyXG5cclxuLy9hZGRzIHRoZSBuZXcgY2FyZCB0byB0aGUgZnJvbnQgb2YgdGhlIGxpc3RcclxuaW5pdGlhbENhcmRzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGl0ZW0pO1xyXG4gIGNhcmRMaXN0LnByZXBlbmQoY2FyZEVsZW1lbnQpO1xyXG59KTtcclxuXHJcbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJoaWRlSW5wdXRFcnJvciIsImZvcm1FbGVtZW50IiwiaW5wdXRFbCIsImNvbmZpZyIsImVycm9yTXNnRWwiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRMaXN0IiwiYnV0dG9uRWxlbWVudCIsInNvbWUiLCJpbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJoYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlQnV0dG9uIiwiZGlzYWJsZWQiLCJhZGQiLCJlbmFibGVWYWxpZGF0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInNldEV2ZW50TGlzdGVuZXJzIiwiQXJyYXkiLCJmcm9tIiwiaW5wdXRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoZWNrSW5wdXRWYWxpZGl0eSIsInNob3dJbnB1dEVycm9yIiwiZXJyb3JNc2ciLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImluaXRpYWxDYXJkcyIsIm5hbWUiLCJsaW5rIiwiY29uc29sZSIsImxvZyIsInNyYyIsImxvZ28iLCJhdmF0YXIiLCJlZGl0IiwicGx1cyIsInByb2ZpbGVFZGl0QnV0dG9uIiwiY2FyZE1vZGFsQnV0dG9uIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJlZGl0TW9kYWwiLCJlZGl0Rm9ybUVsZW1lbnQiLCJlZGl0TW9kYWxDbG9zZUJ0biIsImVkaXRNb2RhbE5hbWVJbnB1dCIsImVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXQiLCJjYXJkTW9kYWwiLCJjYXJkRm9ybSIsImNhcmRTdWJtaXRCdG4iLCJjYXJkTW9kYWxDbG9zZUJ0biIsImNhcmRNb2RhbExpbmtJbnB1dCIsImNhcmRNb2RhbENhcHRpb25JbnB1dCIsInByZXZpZXdNb2RhbCIsInByZXZpZXdNb2RhbEltYWdlRWxlbWVudCIsInByZXZpZXdNb2RhbENhcHRpb25FbGVtZW50IiwicHJldmlld01vZGFsQ2xvc2VCdG4iLCJjYXJkVGVtcGxhdGUiLCJjYXJkTGlzdCIsImdldENhcmRFbGVtZW50IiwiZGF0YSIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmROYW1lRWxlbWVudCIsImNhcmRJbWFnZUVsZW1lbnQiLCJjYXJkTGlrZUJ1dHRvbiIsImNhcmREZWxldGUiLCJhbHQiLCJ0b2dnbGUiLCJvcGVuTW9kYWwiLCJtb2RhbCIsImhhbmRsZUVzY2FwZUtleSIsImNsb3NlTW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXkiLCJ0YXJnZXQiLCJjbG9zZU1vZGFsT25PdmVybGF5Q2xpY2siLCJ2YWx1ZSIsInRyaW0iLCJyZXNldFZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsInByZXBlbmQiLCJyZXNldCIsIml0ZW0iXSwic291cmNlUm9vdCI6IiJ9